@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Custom Icon Hover Effect ===== */
.ficon:hover {
  filter: invert(80%) sepia(37%) saturate(7048%) hue-rotate(132deg)
    brightness(105%) contrast(104%);
}

/* ===== Advanced Animations & Interactions ===== */
@layer utilities {
  /* Custom easing functions */
  :root {
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-spring-3: cubic-bezier(0.22, 1, 0.36, 1);
  }

  /* Scroll-triggered reveal system */
  .reveal {
    opacity: 0;
    transform: translateY(12px);
    transition: transform var(--a-duration, 700ms) var(--ease-spring-3),
      opacity var(--a-duration, 700ms) var(--ease-spring-3),
      filter var(--a-duration, 700ms) var(--ease-spring-3);
    transition-delay: var(--a-delay, 0ms);
    will-change: transform, opacity, filter;
  }

  .reveal.is-visible {
    opacity: 1;
    transform: none;
    filter: none;
  }

  /* Reveal animation variants */
  .reveal.fade-up {
    transform: translateY(24px);
  }

  .reveal.scale-in {
    transform: scale(0.92);
  }

  .reveal.slide-left {
    transform: translateX(-28px);
  }

  .reveal.slide-right {
    transform: translateX(28px);
  }

  .reveal.fade {
    transform: none;
  }

  /* Card hover lift effect */
  .card-hover {
    transition: transform 450ms var(--ease-spring-3),
      box-shadow 450ms var(--ease-spring-3), background-color 300ms ease;
    will-change: transform, box-shadow;
  }

  .card-hover:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
  }

  .dark .card-hover:hover {
    box-shadow: 0 18px 50px rgba(0, 0, 0, 0.45);
  }

  /* Glowing CTA buttons */
  .glow-btn {
    position: relative;
    isolation: isolate;
  }

  .glow-btn::after {
    content: "";
    position: absolute;
    inset: -3px;
    z-index: -1;
    border-radius: inherit;
    background: radial-gradient(
        120px 80px at 30% 20%,
        rgba(59, 211, 176, 0.35),
        transparent 60%
      ),
      radial-gradient(
        120px 80px at 70% 70%,
        rgba(26, 217, 226, 0.3),
        transparent 60%
      );
    filter: blur(16px);
    opacity: 0;
    transition: opacity 400ms var(--ease-out-expo);
  }

  .glow-btn:hover::after,
  .glow-btn:focus-visible::after {
    opacity: 0.8;
  }

  .glow-btn:hover {
    box-shadow: 0 10px 28px rgba(59, 211, 176, 0.35),
      0 4px 10px rgba(0, 0, 0, 0.15);
  }

  .dark .glow-btn:hover {
    box-shadow: 0 12px 32px rgba(26, 217, 226, 0.25),
      0 6px 18px rgba(0, 0, 0, 0.3);
  }

  /* Link underline animation */
  .link-underline-anim {
    position: relative;
  }

  .link-underline-anim::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -2px;
    height: 2px;
    background: currentColor;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 450ms var(--ease-spring-3);
  }

  .link-underline-anim:hover::after,
  .link-underline-anim:focus-visible::after {
    transform: scaleX(1);
  }

  /* Parallax targets smoothing */
  #hero-section img,
  #testimonials-section img[src*="bg-quotes"] {
    will-change: transform;
    transition: transform 600ms var(--ease-spring-3);
  }

  /* Theme toggle micro-interaction */
  .toggling {
    animation: toggle-wiggle 500ms var(--ease-spring-3);
  }

  @keyframes toggle-wiggle {
    0% {
      transform: rotate(0) scale(1);
    }
    30% {
      transform: rotate(8deg) scale(1.06);
    }
    60% {
      transform: rotate(-5deg) scale(1.02);
    }
    100% {
      transform: rotate(0) scale(1);
    }
  }

  /* Reduced motion safety */
  @media (prefers-reduced-motion: reduce) {
    .reveal,
    .card-hover,
    .glow-btn,
    #hero-section img,
    #testimonials-section img[src*="bg-quotes"],
    .toggling {
      transition: none !important;
      animation: none !important;
      transform: none !important;
      opacity: 1 !important;
      filter: none !important;
    }
  }
}
